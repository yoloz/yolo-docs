"use strict";(self.webpackChunkyolo_docs=self.webpackChunkyolo_docs||[]).push([[2508],{3905:(e,t,l)=>{l.d(t,{Zo:()=>c,kt:()=>k});var r=l(7294);function n(e,t,l){return t in e?Object.defineProperty(e,t,{value:l,enumerable:!0,configurable:!0,writable:!0}):e[t]=l,e}function a(e,t){var l=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),l.push.apply(l,r)}return l}function A(e){for(var t=1;t<arguments.length;t++){var l=null!=arguments[t]?arguments[t]:{};t%2?a(Object(l),!0).forEach((function(t){n(e,t,l[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(l)):a(Object(l)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(l,t))}))}return e}function o(e,t){if(null==e)return{};var l,r,n=function(e,t){if(null==e)return{};var l,r,n={},a=Object.keys(e);for(r=0;r<a.length;r++)l=a[r],t.indexOf(l)>=0||(n[l]=e[l]);return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)l=a[r],t.indexOf(l)>=0||Object.prototype.propertyIsEnumerable.call(e,l)&&(n[l]=e[l])}return n}var i=r.createContext({}),d=function(e){var t=r.useContext(i),l=t;return e&&(l="function"==typeof e?e(t):A(A({},t),e)),l},c=function(e){var t=d(e.components);return r.createElement(i.Provider,{value:t},e.children)},p="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},m=r.forwardRef((function(e,t){var l=e.components,n=e.mdxType,a=e.originalType,i=e.parentName,c=o(e,["components","mdxType","originalType","parentName"]),p=d(l),m=n,k=p["".concat(i,".").concat(m)]||p[m]||u[m]||a;return l?r.createElement(k,A(A({ref:t},c),{},{components:l})):r.createElement(k,A({ref:t},c))}));function k(e,t){var l=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var a=l.length,A=new Array(a);A[0]=m;var o={};for(var i in t)hasOwnProperty.call(t,i)&&(o[i]=t[i]);o.originalType=e,o[p]="string"==typeof e?e:n,A[1]=o;for(var d=2;d<a;d++)A[d]=l[d];return r.createElement.apply(null,A)}return r.createElement.apply(null,l)}m.displayName="MDXCreateElement"},1427:(e,t,l)=>{l.r(t),l.d(t,{assets:()=>i,contentTitle:()=>A,default:()=>u,frontMatter:()=>a,metadata:()=>o,toc:()=>d});var r=l(7462),n=(l(7294),l(3905));const a={},A=void 0,o={unversionedId:"concept/\u6570\u636e\u4e00\u81f4\u6027\u534f\u8bae",id:"concept/\u6570\u636e\u4e00\u81f4\u6027\u534f\u8bae",title:"\u6570\u636e\u4e00\u81f4\u6027\u534f\u8bae",description:"\u4e24\u9636\u6bb5\u63d0\u4ea4\u534f\u8bae\uff082PC\uff09",source:"@site/docs/concept/\u6570\u636e\u4e00\u81f4\u6027\u534f\u8bae.md",sourceDirName:"concept",slug:"/concept/\u6570\u636e\u4e00\u81f4\u6027\u534f\u8bae",permalink:"/docs/concept/\u6570\u636e\u4e00\u81f4\u6027\u534f\u8bae",draft:!1,editUrl:"https://github.com/yoloz/yolo-docs/tree/docusaurus/docs/concept/\u6570\u636e\u4e00\u81f4\u6027\u534f\u8bae.md",tags:[],version:"current",lastUpdatedAt:1686297015,formattedLastUpdatedAt:"2023\u5e746\u67089\u65e5",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"\u5e94\u7528\u7a0b\u5e8f\u63a5\u53e3",permalink:"/docs/concept/\u5e94\u7528\u7a0b\u5e8f\u63a5\u53e3"},next:{title:"\u6570\u636e\u4e00\u81f4\u6027\u7406\u8bba",permalink:"/docs/concept/\u6570\u636e\u4e00\u81f4\u6027\u7406\u8bba"}},i={},d=[{value:"\u4e24\u9636\u6bb5\u63d0\u4ea4\u534f\u8bae\uff082PC\uff09",id:"\u4e24\u9636\u6bb5\u63d0\u4ea4\u534f\u8bae2pc",level:2},{value:"\u4e24\u79cd\u89d2\u8272",id:"\u4e24\u79cd\u89d2\u8272",level:3},{value:"\u5904\u7406\u7684\u4e8c\u4e2a\u9636\u6bb5",id:"\u5904\u7406\u7684\u4e8c\u4e2a\u9636\u6bb5",level:3},{value:"\u5f02\u5e38\u60c5\u51b5\u5904\u7406",id:"\u5f02\u5e38\u60c5\u51b5\u5904\u7406",level:3},{value:"\u7f3a\u70b9",id:"\u7f3a\u70b9",level:3},{value:"\u4e09\u9636\u6bb5\u63d0\u4ea4\u534f\u8bae\uff083PC\uff09",id:"\u4e09\u9636\u6bb5\u63d0\u4ea4\u534f\u8bae3pc",level:2},{value:"\u5904\u7406\u7684\u4e09\u4e2a\u9636\u6bb5",id:"\u5904\u7406\u7684\u4e09\u4e2a\u9636\u6bb5",level:3},{value:"\u7f3a\u70b9",id:"\u7f3a\u70b9-1",level:3},{value:"Paxos \u534f\u8bae",id:"paxos-\u534f\u8bae",level:2},{value:"\u89e3\u51b3\u4e86\u4ec0\u4e48\u95ee\u9898",id:"\u89e3\u51b3\u4e86\u4ec0\u4e48\u95ee\u9898",level:3},{value:"\u4e24\u79cd\u89d2\u8272\uff08\u4e24\u8005\u53ef\u4ee5\u662f\u540c\u4e00\u53f0\u673a\u5668\uff09",id:"\u4e24\u79cd\u89d2\u8272\u4e24\u8005\u53ef\u4ee5\u662f\u540c\u4e00\u53f0\u673a\u5668",level:3},{value:"Raft \u534f\u8bae",id:"raft-\u534f\u8bae",level:2},{value:"\u57fa\u672c\u540d\u8bcd",id:"\u57fa\u672c\u540d\u8bcd",level:3},{value:"\u7279\u6027",id:"\u7279\u6027",level:3},{value:"\u9009\u4e3b\u5951\u673a",id:"\u9009\u4e3b\u5951\u673a",level:3},{value:"\u9009\u4e3b\u8fc7\u7a0b",id:"\u9009\u4e3b\u8fc7\u7a0b",level:3},{value:"\u65e5\u5fd7\u590d\u5236\u8fc7\u7a0b",id:"\u65e5\u5fd7\u590d\u5236\u8fc7\u7a0b",level:3},{value:"\u4f7f\u7528 Raft + RocksDB \u6709\u8d5e\u5206\u5e03\u5f0f KV \u5b58\u50a8\u670d\u52a1",id:"\u4f7f\u7528-raft--rocksdb-\u6709\u8d5e\u5206\u5e03\u5f0f-kv-\u5b58\u50a8\u670d\u52a1",level:2},{value:"\u603b\u7ed3",id:"\u603b\u7ed3",level:2}],c={toc:d},p="wrapper";function u(e){let{components:t,...a}=e;return(0,n.kt)(p,(0,r.Z)({},c,a,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("h2",{id:"\u4e24\u9636\u6bb5\u63d0\u4ea4\u534f\u8bae2pc"},"\u4e24\u9636\u6bb5\u63d0\u4ea4\u534f\u8bae\uff082PC\uff09"),(0,n.kt)("admonition",{type:"info"},(0,n.kt)("p",{parentName:"admonition"},"\u4e8c\u9636\u6bb5\u63d0\u4ea4( Two-phaseCommit )\u662f\u6307\uff0c\u5728\u8ba1\u7b97\u673a\u7f51\u7edc\u4ee5\u53ca\u6570\u636e\u5e93\u9886\u57df\u5185\uff0c\u4e3a\u4e86\u4f7f\u57fa\u4e8e\u5206\u5e03\u5f0f\u7cfb\u7edf\u67b6\u6784\u4e0b\u7684\u6240\u6709\u8282\u70b9\u5728\u8fdb\u884c\u4e8b\u52a1\u63d0\u4ea4\u65f6\u4fdd\u6301\u4e00\u81f4\u6027\u800c\u8bbe\u8ba1\u7684\u4e00\u79cd\u7b97\u6cd5( Algorithm )\u3002\u901a\u5e38\uff0c\u4e8c\u9636\u6bb5\u63d0\u4ea4\u4e5f\u88ab\u79f0\u4e3a\u662f\u4e00\u79cd\u534f\u8bae( Protocol )\u3002\u5728\u5206\u5e03\u5f0f\u7cfb\u7edf\u4e2d\uff0c\u6bcf\u4e2a\u8282\u70b9\u867d\u7136\u53ef\u4ee5\u77e5\u6653\u81ea\u5df1\u7684\u64cd\u4f5c\u65f6\u6210\u529f\u6216\u8005\u5931\u8d25\uff0c\u5374\u65e0\u6cd5\u77e5\u9053\u5176\u4ed6\u8282\u70b9\u7684\u64cd\u4f5c\u7684\u6210\u529f\u6216\u5931\u8d25\u3002\u5f53\u4e00\u4e2a\u4e8b\u52a1\u8de8\u8d8a\u591a\u4e2a\u8282\u70b9\u65f6\uff0c\u4e3a\u4e86\u4fdd\u6301\u4e8b\u52a1\u7684 ACID \u7279\u6027\uff0c\u9700\u8981\u5f15\u5165\u4e00\u4e2a\u4f5c\u4e3a\u534f\u8c03\u8005\u7684\u7ec4\u4ef6\u6765\u7edf\u4e00\u638c\u63a7\u6240\u6709\u8282\u70b9(\u79f0\u4f5c\u53c2\u4e0e\u8005)\u7684\u64cd\u4f5c\u7ed3\u679c\u5e76\u6700\u7ec8\u6307\u793a\u8fd9\u4e9b\u8282\u70b9\u662f\u5426\u8981\u628a\u64cd\u4f5c\u7ed3\u679c\u8fdb\u884c\u771f\u6b63\u7684\u63d0\u4ea4(\u6bd4\u5982\u5c06\u66f4\u65b0\u540e\u7684\u6570\u636e\u5199\u5165\u78c1\u76d8\u7b49\u7b49)\u3002\u56e0\u6b64\uff0c\u4e8c\u9636\u6bb5\u63d0\u4ea4\u7684\u7b97\u6cd5\u601d\u8def\u53ef\u4ee5\u6982\u62ec\u4e3a\uff1a\u53c2\u4e0e\u8005\u5c06\u64cd\u4f5c\u6210\u8d25\u901a\u77e5\u534f\u8c03\u8005\uff0c\u518d\u7531\u534f\u8c03\u8005\u6839\u636e\u6240\u6709\u53c2\u4e0e\u8005\u7684\u53cd\u9988\u60c5\u62a5\u51b3\u5b9a\u5404\u53c2\u4e0e\u8005\u662f\u5426\u8981\u63d0\u4ea4\u64cd\u4f5c\u8fd8\u662f\u4e2d\u6b62\u64cd\u4f5c\u3002")),(0,n.kt)("h3",{id:"\u4e24\u79cd\u89d2\u8272"},"\u4e24\u79cd\u89d2\u8272"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"\u534f\u8c03\u8005"),(0,n.kt)("li",{parentName:"ul"},"\u53c2\u4e0e\u8005")),(0,n.kt)("h3",{id:"\u5904\u7406\u7684\u4e8c\u4e2a\u9636\u6bb5"},"\u5904\u7406\u7684\u4e8c\u4e2a\u9636\u6bb5"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"\u8be2\u95ee\u6295\u7968\u9636\u6bb5\uff1a\u4e8b\u52a1\u534f\u8c03\u8005\u7ed9\u6bcf\u4e2a\u53c2\u4e0e\u8005\u53d1\u9001 Prepare \u6d88\u606f\uff0c\u53c2\u4e0e\u8005\u53d7\u5230\u6d88\u606f\u540e\uff0c\u8981\u4e48\u5728\u672c\u5730\u5199\u5165 redo \u548c undo \u65e5\u5fd7\u6210\u529f\u540e\uff0c\u8fd4\u56de\u540c\u610f\u7684\u6d88\u606f\uff0c\u5426\u8005\u4e00\u4e2a\u7ec8\u6b62\u4e8b\u52a1\u7684\u6d88\u606f\u3002"),(0,n.kt)("li",{parentName:"ul"},"\u6267\u884c\u521d\u59cb\u5316\uff08\u6267\u884c\u63d0\u4ea4\uff09\uff1a\u534f\u8c03\u8005\u5728\u6536\u5230\u6240\u6709\u53c2\u4e0e\u8005\u7684\u6d88\u606f\u540e\uff0c\u5982\u679c\u6709\u4e00\u4e2a\u8fd4\u56de\u7ec8\u6b62\u4e8b\u52a1\uff0c\u90a3\u4e48\u534f\u8c03\u8005\u7ed9\u6bcf\u4e2a\u53c2\u4e0e\u8005\u53d1\u9001\u56de\u6eda\u7684\u6307\u4ee4\u3002\u5426\u8005\u53d1\u9001 commit \u6d88\u606f")),(0,n.kt)("h3",{id:"\u5f02\u5e38\u60c5\u51b5\u5904\u7406"},"\u5f02\u5e38\u60c5\u51b5\u5904\u7406"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"\u534f\u8c03\u8005\u6545\u969c\uff1a\u5907\u7528\u534f\u8c03\u8005\u63a5\u7ba1\uff0c\u5e76\u67e5\u8be2\u53c2\u4e0e\u8005\u6267\u884c\u5230\u4ec0\u4e48\u5730\u5740"),(0,n.kt)("li",{parentName:"ul"},"\u53c2\u4e0e\u8005\u6545\u969c\uff1a\u534f\u8c03\u8005\u4f1a\u7b49\u5f85\u4ed6\u91cd\u542f\u7136\u540e\u6267\u884c"),(0,n.kt)("li",{parentName:"ul"},"\u534f\u8c03\u8005\u548c\u53c2\u4e0e\u8005\u540c\u65f6\u6545\u969c\uff1a\u534f\u8c03\u8005\u6545\u969c\uff0c\u7136\u540e\u53c2\u4e0e\u8005\u4e5f\u6545\u969c\u3002\u4f8b\u5982\uff1a\u6709\u673a\u5668 1\uff0c2\uff0c3\uff0c4\u3002\u5176\u4e2d 4 \u662f\u534f\u8c03\u8005\uff0c1\uff0c2\uff0c3 \u662f\u53c2\u4e0e\u8005 4 \u7ed9 1\uff0c2 \u53d1\u5b8c\u63d0\u4ea4\u4e8b\u52a1\u540e\u6545\u969c\u4e86\uff0c\u6b63\u597d 3 \u8fd9\u4e2a\u65f6\u5019\u4e5f\u6545\u969c\u4e86\uff0c\u6ce8\u610f\u8fd9\u65f6 3 \u662f\u6ca1\u6709\u63d0\u4ea4\u4e8b\u52a1\u6570\u636e\u7684\u3002\u5728\u5907\u7528\u534f\u8c03\u8005\u542f\u52a8\u4e86\uff0c\u53bb\u8be2\u95ee\u53c2\u4e0e\u8005\uff0c\u7531\u4e8e 3 \u6b7b\u6389\u4e86\uff0c\u4e00\u76f4\u4e0d\u77e5\u9053\u5b83\u5904\u4e8e\u4ec0\u4e48\u72b6\u6001\uff08\u63a5\u53d7\u4e86\u63d0\u4ea4\u4e8b\u52a1\uff0c\u8fd8\u662f\u53cd\u9988\u4e86\u80fd\u6267\u884c\u8fd8\u662f\u4e0d\u80fd\u6267\u884c 3 \u4e2a\u72b6\u6001\uff09\u3002\u9762\u5bf9\u8fd9\u79cd\u60c5\u51b5\uff0c2PC\uff0c\u662f\u4e0d\u80fd\u89e3\u51b3\u7684\uff0c\u8981\u89e3\u51b3\u9700\u8981\u4e0b\u6587\u4ecb\u7ecd\u7684 3PC\u3002")),(0,n.kt)("h3",{id:"\u7f3a\u70b9"},"\u7f3a\u70b9"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"\u540c\u6b65\u963b\u585e\u95ee\u9898"),"\uff1a\u7531\u4e8e\u6240\u6709\u53c2\u4e0e\u7684\u8282\u70b9\u90fd\u662f\u4e8b\u52a1\u963b\u585e\u578b\u7684\uff0c\u4f8b\u5982 ",(0,n.kt)("inlineCode",{parentName:"li"},"update table set status=1 where current_day=20181103"),"\uff0c\u90a3\u4e48\u53c2\u4e0e\u8005 table \u8868\u7684 current_day=20181103 \u7684\u8bb0\u5f55\u90fd\u4f1a\u88ab\u9501\u4f4f\uff0c\u5176\u4ed6\u7684\u8981\u4fee\u6539 current_day=20181103 \u884c\u7684\u4e8b\u52a1\uff0c\u90fd\u4f1a\u88ab\u963b\u585e"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"\u5355\u70b9\u6545\u969c\u963b\u585e\u5176\u4ed6\u4e8b\u52a1"),"\uff1a\u534f\u8c03\u8005\u5728\u6267\u884c\u63d0\u4ea4\u7684\u9636\u6bb5 down \u6389\uff0c\u6240\u6709\u7684\u53c2\u4e0e\u8005\u51fa\u4e8e\u9501\u5b9a\u4e8b\u52a1\u8d44\u6e90\u7684\u72b6\u6001\u4e2d\u3002\u65e0\u6cd5\u5b8c\u6210\u76f8\u5173\u7684\u4e8b\u52a1\u64cd\u4f5c\u3002"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"\u53c2\u4e0e\u8005\u548c\u534f\u8c03\u8005\u540c\u65f6 down \u6389"),"\uff1a\u534f\u8c03\u8005\u5728\u53d1\u9001\u5b8c commit \u6d88\u606f\u540e down \u6389\uff0c\u800c\u552f\u4e00\u63a5\u53d7\u5230\u6b64\u6d88\u606f\u7684\u53c2\u4e0e\u8005\u4e5f down \u6389\u4e86\u3002\u65b0\u534f\u8c03\u8005\u63a5\u7ba1\uff0c\u4e5f\u662f\u4e00\u4e2a\u61f5\u903c\u7684\u72b6\u6001\uff0c\u4e0d\u77e5\u9053\u6b64\u6761\u4e8b\u52a1\u7684\u72b6\u6001\u3002\u65e0\u8bba\u63d0\u4ea4\u6216\u8005\u56de\u6eda\u90fd\u662f\u4e0d\u5408\u9002\u7684\u3002\u8fd9\u4e2a\u662f\u4e24\u9636\u6bb5\u63d0\u4ea4\u65e0\u6cd5\u6539\u53d8\u7684")),(0,n.kt)("h2",{id:"\u4e09\u9636\u6bb5\u63d0\u4ea4\u534f\u8bae3pc"},"\u4e09\u9636\u6bb5\u63d0\u4ea4\u534f\u8bae\uff083PC\uff09"),(0,n.kt)("p",null,"2PC \u5f53\u65f6\u53ea\u8003\u8651\u5982\u679c\u5355\u673a\u6545\u969c\u7684\u60c5\u51b5\uff0c\u662f\u53ef\u4ee5\u52c9\u5f3a\u5e94\u4ed8\u7684\u3002\u5f53\u9047\u5230\u534f\u8c03\u8005\u548c\u53c2\u4e0e\u8005\u540c\u65f6\u6545\u969c\u7684\u8bdd\uff0c2PC \u7684\u7406\u8bba\u662f\u4e0d\u5b8c\u5584\u7684\u3002\u6b64\u65f6 3PC \u767b\u573a\u3002"),(0,n.kt)("p",null,"3PC \u5c31\u662f\u5bf9 2PC \u6f0f\u6d1e\u7684\u8865\u5145\u534f\u8bae\u3002\u4e3b\u8981\u6539\u52a8\u4e24\u70b9\uff1a"),(0,n.kt)("admonition",{type:"tip"},(0,n.kt)("ul",{parentName:"admonition"},(0,n.kt)("li",{parentName:"ul"},"\u5728 2PC \u7684\u7b2c\u4e00\u9636\u6bb5\u548c\u7b2c\u4e8c\u9636\u6bb5\u63d2\u5165\u4e00\u4e2a\u51c6\u5907\u9636\u6bb5\uff0c\u505a\u5230\u5c31\u7b97\u53c2\u4e0e\u8005\u548c\u534f\u8c03\u8005\u540c\u65f6\u6545\u969c\u4e5f\u4e0d\u963b\u585e\uff0c\u5e76\u4e14\u4fdd\u8bc1\u4e00\u81f4\u6027;"),(0,n.kt)("li",{parentName:"ul"},"\u5728\u534f\u8c03\u8005\u548c\u53c2\u4e0e\u8005\u4e4b\u95f4\u5f15\u5165\u8d85\u65f6\u673a\u5236;"))),(0,n.kt)("h3",{id:"\u5904\u7406\u7684\u4e09\u4e2a\u9636\u6bb5"},"\u5904\u7406\u7684\u4e09\u4e2a\u9636\u6bb5"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"\u4e8b\u52a1\u8be2\u95ee\u9636\u6bb5\uff08 can commit \u9636\u6bb5)\uff1a\u534f\u8c03\u8005\u5411\u53c2\u4e0e\u8005\u53d1\u9001 commit \u8bf7\u6c42\uff0c\u7136\u540e\u7b49\u5f85\u53c2\u4e0e\u8005\u53cd\u5e94\u3002\u8fd9\u4e2a\u548c 2PC \u9636\u6bb5\u4e0d\u540c\u7684\u662f\uff0c\u6b64\u65f6\u53c2\u4e0e\u8005\u6ca1\u6709\u9501\u5b9a\u8d44\u6e90\uff0c\u6ca1\u6709\u5199 redo\uff0cundo\uff0c\u6267\u884c\u56de\u6eda\u65e5\u5fd7\u3002",(0,n.kt)("strong",{parentName:"li"},"\u56de\u6eda\u4ee3\u4ef7\u4f4e")),(0,n.kt)("li",{parentName:"ul"},"\u4e8b\u52a1\u51c6\u5907\u9636\u6bb5 \uff08pre commit\uff09\uff1a\u5982\u679c\u53c2\u4e0e\u8005\u90fd\u8fd4\u56de ok\uff0c\u90a3\u4e48\u5c31\u53d1\u9001 Prepare \u6d88\u606f\uff0c\u53c2\u4e0e\u8005\u672c\u5730\u6267\u884c redo \u548c undo \u65e5\u5fd7\u3002\u5426\u8005\u5c31\u5411\u53c2\u4e0e\u8005\u63d0\u4ea4\u7ec8\u6b62\uff08abort\uff09\u4e8b\u52a1\u7684\u8bf7\u6c42\u3002\u5982\u679c\u518d\u53d1\u9001 Prepare \u6d88\u606f\u7684\u65f6\u5019\uff0c\u7b49\u5f85\u8d85\u65f6\uff0c\u4e5f\u4f1a\u5411\u53c2\u4e0e\u8005\u63d0\u4ea4\u7ec8\u6b62\u4e8b\u52a1\u7684\u8bf7\u6c42\u3002"),(0,n.kt)("li",{parentName:"ul"},"\u6267\u884c\u4e8b\u52a1\u9636\u6bb5\uff08do commit\uff09\uff1a\u5982\u679c\u6240\u6709\u53d1\u9001 Prepare \u90fd\u8fd4\u56de\u6210\u529f\uff0c\u90a3\u4e48\u6b64\u65f6\u53d8\u4e3a\u6267\u884c\u4e8b\u52a1\u9636\u6bb5\uff0c\u5411\u53c2\u4e0e\u8005\u53d1\u9001 commit \u4e8b\u52a1\u7684\u6d88\u606f\u3002\u5426\u8005\u56de\u6eda\u4e8b\u52a1\u3002\u5728\u6b64\u9636\u6bb5\u53c2\u4e0e\u8005\u5982\u679c\u5728\u4e00\u5b9a\u65f6\u95f4\u5185\u6ca1\u6709\u6536\u5230 docommit \u6d88\u606f\uff0c\u89e6\u53d1\u8d85\u65f6\u673a\u5236\uff0c\u4f1a\u81ea\u5df1\u63d0\u4ea4\u4e8b\u52a1\u3002\u6b64\u756a\u5904\u7406\u7684\u903b\u8f91\u662f\uff0c\u80fd\u591f\u8fdb\u5165\u6b64\u9636\u6bb5\uff0c\u8bf4\u660e\u5728\u4e8b\u52a1\u8be2\u95ee\u9636\u6bb5\u6240\u6709\u8282\u70b9\u90fd\u662f\u597d\u7684\u3002\u5373\u4f7f\u5728\u63d0\u4ea4\u7684\u65f6\u5019\u90e8\u5206\u5931\u8d25\uff0c\u6709\u7406\u7531\u76f8\u4fe1\uff0c\u6b64\u65f6\u5927\u90e8\u5206\u8282\u70b9\u90fd\u662f\u597d\u7684\u3002\u662f\u53ef\u4ee5\u63d0\u4ea4\u7684")),(0,n.kt)("h3",{id:"\u7f3a\u70b9-1"},"\u7f3a\u70b9"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"\u4e0d\u80fd\u89e3\u51b3\u7f51\u7edc\u5206\u533a\u7684\u5bfc\u81f4\u7684\u6570\u636e\u4e0d\u4e00\u81f4\u7684\u95ee\u9898\uff1a\u4f8b\u5982 1~5 \u4e94\u4e2a\u53c2\u4e0e\u8005\u8282\u70b9\uff0c1\uff0c2\uff0c3 \u4e2a\u8282\u70b9\u5728 A \u673a\u623f\uff0c4\uff0c5 \u8282\u70b9\u5728 B \u673a\u623f\u3002\u5728 pre commit \u9636\u6bb5\uff0c1~5 \u4e2a\u8282\u70b9\u90fd\u6536\u5230 Prepare \u6d88\u606f\uff0c\u4f46\u662f\u8282\u70b9 1 \u6267\u884c\u5931\u8d25\u3002\u534f\u8c03\u8005\u5411 1~5 \u4e2a\u8282\u70b9\u53d1\u9001\u56de\u6eda\u4e8b\u52a1\u7684\u6d88\u606f\u3002\u4f46\u662f\u6b64\u65f6 A\uff0cB \u673a\u623f\u7684\u7f51\u7edc\u5206\u533a\u30021~3 \u53f7\u8282\u70b9\u4f1a\u56de\u6eda\u3002\u4f46\u662f 4~5 \u8282\u70b9\u7531\u4e8e\u6ca1\u6536\u5230\u56de\u6eda\u4e8b\u52a1\u7684\u6d88\u606f\uff0c\u800c\u63d0\u4ea4\u4e86\u4e8b\u52a1\u3002\u5f85\u7f51\u7edc\u5206\u533a\u6062\u590d\u540e\uff0c\u4f1a\u51fa\u73b0\u6570\u636e\u4e0d\u4e00\u81f4\u7684\u60c5\u51b5\u3002"),(0,n.kt)("li",{parentName:"ul"},"\u4e0d\u80fd\u89e3\u51b3 fail-recover \u7684\u95ee\u9898\uff1a\u7531\u4e8e 3PC \u6709\u8d85\u65f6\u673a\u5236\u7684\u5b58\u5728\uff0c2PC \u4e2d\u672a\u89e3\u51b3\u7684\u95ee\u9898\uff0c\u53c2\u4e0e\u8005\u548c\u534f\u8c03\u8005\u540c\u65f6 down \u6389\uff0c\u4e5f\u5c31\u89e3\u51b3\u4e86\u3002\u4e00\u65e6\u53c2\u4e0e\u8005\u5728\u8d85\u65f6\u65f6\u95f4\u5185\u6ca1\u6709\u6536\u5230\u534f\u8c03\u8005\u7684\u6d88\u606f\uff0c\u5c31\u4f1a\u81ea\u5df1\u63d0\u4ea4\u3002\u8fd9\u6837\u4e5f\u80fd\u907f\u514d\u53c2\u4e0e\u8005\u4e00\u76f4\u5360\u7528\u5171\u4eab\u8d44\u6e90\u3002\u4f46\u662f\u5176\u5728\u7f51\u7edc\u5206\u533a\u7684\u60c5\u51b5\u4e0b\uff0c\u4e0d\u80fd\u4fdd\u8bc1\u6570\u636e\u7684\u4e00\u81f4\u6027\u3002")),(0,n.kt)("h2",{id:"paxos-\u534f\u8bae"},"Paxos \u534f\u8bae"),(0,n.kt)("p",null,"\u50cf 2PC \u548c 3PC \u90fd\u9700\u8981\u5f15\u5165\u4e00\u4e2a\u534f\u8c03\u8005\u7684\u89d2\u8272\uff0c\u5f53\u534f\u8c03\u8005 down \u6389\u4e4b\u540e\uff0c\u6574\u4e2a\u4e8b\u52a1\u90fd\u65e0\u6cd5\u63d0\u4ea4\uff0c\u53c2\u4e0e\u8005\u7684\u8d44\u6e90\u90fd\u51fa\u4e8e\u9501\u5b9a\u7684\u72b6\u6001\uff0c\u5bf9\u4e8e\u7cfb\u7edf\u7684\u5f71\u54cd\u662f\u707e\u96be\u6027\u7684\uff0c\u800c\u4e14\u51fa\u73b0\u7f51\u7edc\u5206\u533a\u7684\u60c5\u51b5\uff0c\u5f88\u6709\u53ef\u80fd\u4f1a\u51fa\u73b0\u6570\u636e\u4e0d\u4e00\u81f4\u7684\u60c5\u51b5\u3002\u6709\u6ca1\u6709\u4e0d\u9700\u8981\u534f\u8c03\u8005\u89d2\u8272\uff0c\u6bcf\u4e2a\u53c2\u4e0e\u8005\u6765\u534f\u8c03\u4e8b\u52a1\u5462\uff0c\u5728\u7f51\u7edc\u5206\u533a\u7684\u60c5\u51b5\u4e0b\uff0c\u53c8\u80fd\u6700\u5927\u7a0b\u5ea6\u4fdd\u8bc1\u4e00\u81f4\u6027\u7684\u89e3\u51b3\u65b9\u6848\u5462\u3002\u6b64\u65f6 Paxos \u51fa\u73b0\u4e86\u3002"),(0,n.kt)("p",null,"Paxos \u7b97\u6cd5\u662f Lamport \u4e8e 1990 \u5e74\u63d0\u51fa\u7684\u4e00\u79cd\u57fa\u4e8e\u6d88\u606f\u4f20\u9012\u7684\u4e00\u81f4\u6027\u7b97\u6cd5\u3002\u7531\u4e8e\u7b97\u6cd5\u96be\u4ee5\u7406\u89e3\u8d77\u521d\u5e76\u6ca1\u6709\u5f15\u8d77\u4eba\u4eec\u7684\u91cd\u89c6\uff0cLamport \u5728\u516b\u5e74\u540e\u91cd\u65b0\u53d1\u8868\uff0c\u5373\u4fbf\u5982\u6b64 Paxos \u7b97\u6cd5\u8fd8\u662f\u6ca1\u6709\u5f97\u5230\u91cd\u89c6\u30022006 \u5e74 Google \u7684\u4e09\u7bc7\u8bba\u6587\u77f3\u7834\u5929\u60ca\uff0c\u5176\u4e2d\u7684 chubby \u9501\u670d\u52a1\u4f7f\u7528 Paxos \u4f5c\u4e3a chubbycell \u4e2d\u7684\u4e00\u81f4\u6027\uff0c\u540e\u6765\u624d\u5f97\u5230\u5173\u6ce8\u3002"),(0,n.kt)("h3",{id:"\u89e3\u51b3\u4e86\u4ec0\u4e48\u95ee\u9898"},"\u89e3\u51b3\u4e86\u4ec0\u4e48\u95ee\u9898"),(0,n.kt)("p",null,"Paxos \u534f\u8bae\u662f\u4e00\u4e2a\u89e3\u51b3\u5206\u5e03\u5f0f\u7cfb\u7edf\u4e2d\uff0c\u591a\u4e2a\u8282\u70b9\u4e4b\u95f4\u5c31\u67d0\u4e2a\u503c\uff08\u63d0\u6848\uff09\u8fbe\u6210\u4e00\u81f4\uff08\u51b3\u8bae\uff09\u7684\u901a\u4fe1\u534f\u8bae\u3002\u5b83\u80fd\u591f\u5904\u7406\u5728\u5c11\u6570\u8282\u70b9\u79bb\u7ebf\u7684\u60c5\u51b5\u4e0b\uff0c\u5269\u4f59\u7684\u591a\u6570\u8282\u70b9\u4ecd\u7136\u80fd\u591f\u8fbe\u6210\u4e00\u81f4\u3002\u5373\u6bcf\u4e2a\u8282\u70b9\uff0c\u65e2\u662f\u53c2\u4e0e\u8005\uff0c\u4e5f\u662f\u51b3\u7b56\u8005"),(0,n.kt)("h3",{id:"\u4e24\u79cd\u89d2\u8272\u4e24\u8005\u53ef\u4ee5\u662f\u540c\u4e00\u53f0\u673a\u5668"},"\u4e24\u79cd\u89d2\u8272\uff08\u4e24\u8005\u53ef\u4ee5\u662f\u540c\u4e00\u53f0\u673a\u5668\uff09"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Proposer\uff1a\u63d0\u8bae\u63d0\u6848\u7684\u670d\u52a1\u5668"),(0,n.kt)("li",{parentName:"ul"},"Acceptor\uff1a\u6279\u51c6\u63d0\u6848\u7684\u670d\u52a1\u5668")),(0,n.kt)("h2",{id:"raft-\u534f\u8bae"},"Raft \u534f\u8bae"),(0,n.kt)("p",null,"Paxos \u662f\u8bba\u8bc1\u4e86\u4e00\u81f4\u6027\u534f\u8bae\u7684\u53ef\u884c\u6027\uff0c\u4f46\u662f\u8bba\u8bc1\u7684\u8fc7\u7a0b\u636e\u8bf4\u6666\u6da9\u96be\u61c2\uff0c\u7f3a\u5c11\u5fc5\u8981\u7684\u5b9e\u73b0\u7ec6\u8282\uff0c\u800c\u4e14\u5de5\u7a0b\u5b9e\u73b0\u96be\u5ea6\u6bd4\u8f83\u9ad8\u5e7f\u4e3a\u4eba\u77e5\u5b9e\u73b0\u53ea\u6709 ",(0,n.kt)("a",{parentName:"p",href:"/docs/bigdata/zookeeper%E5%AD%A6%E4%B9%A0"},"zookeeper \u7684\u5b9e\u73b0 zab \u534f\u8bae"),"\u3002\u7136\u540e\u65af\u5766\u798f\u5927\u5b66 RamCloud \u9879\u76ee\u4e2d\u63d0\u51fa\u4e86\u6613\u5b9e\u73b0\uff0c\u6613\u7406\u89e3\u7684\u5206\u5e03\u5f0f\u4e00\u81f4\u6027\u590d\u5236\u534f\u8bae Raft\u3002Java\uff0cC++\uff0cGo \u7b49\u90fd\u6709\u5176\u5bf9\u5e94\u7684\u5b9e\u73b0\u3002"),(0,n.kt)("h3",{id:"\u57fa\u672c\u540d\u8bcd"},"\u57fa\u672c\u540d\u8bcd"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"\u8282\u70b9\u72b6\u6001"),(0,n.kt)("li",{parentName:"ul"},"Leader\uff08\u4e3b\u8282\u70b9\uff09\uff1a\u63a5\u53d7 client \u66f4\u65b0\u8bf7\u6c42\uff0c\u5199\u5165\u672c\u5730\u540e\uff0c\u7136\u540e\u540c\u6b65\u5230\u5176\u4ed6\u526f\u672c\u4e2d"),(0,n.kt)("li",{parentName:"ul"},"Follower\uff08\u4ece\u8282\u70b9\uff09\uff1a\u4ece Leader \u4e2d\u63a5\u53d7\u66f4\u65b0\u8bf7\u6c42\uff0c\u7136\u540e\u5199\u5165\u672c\u5730\u65e5\u5fd7\u6587\u4ef6\u3002\u5bf9\u5ba2\u6237\u7aef\u63d0\u4f9b\u8bfb\u8bf7\u6c42"),(0,n.kt)("li",{parentName:"ul"},"Candidate\uff08\u5019\u9009\u8282\u70b9\uff09\uff1a\u5982\u679c follower \u5728\u4e00\u6bb5\u65f6\u95f4\u5185\u672a\u6536\u5230 leader \u5fc3\u8df3\u3002\u5219\u5224\u65ad leader \u53ef\u80fd\u6545\u969c\uff0c\u53d1\u8d77\u9009\u4e3b\u63d0\u8bae\u3002\u8282\u70b9\u72b6\u6001\u4ece Follower \u53d8\u4e3a Candidate \u72b6\u6001\uff0c\u76f4\u5230\u9009\u4e3b\u7ed3\u675f"),(0,n.kt)("li",{parentName:"ul"},"termId\uff1a\u4efb\u671f\u53f7\uff0c\u65f6\u95f4\u88ab\u5212\u5206\u6210\u4e00\u4e2a\u4e2a\u4efb\u671f\uff0c\u6bcf\u6b21\u9009\u4e3e\u540e\u90fd\u4f1a\u4ea7\u751f\u4e00\u4e2a\u65b0\u7684 termId\uff0c\u4e00\u4e2a\u4efb\u671f\u5185\u53ea\u6709\u4e00\u4e2a leader\u3002termId \u76f8\u5f53\u4e8e paxos \u7684 proposalId\u3002"),(0,n.kt)("li",{parentName:"ul"},"RequestVote\uff1a\u8bf7\u6c42\u6295\u7968\uff0ccandidate \u5728\u9009\u4e3e\u8fc7\u7a0b\u4e2d\u53d1\u8d77\uff0c\u6536\u5230 quorum (\u591a\u6570\u6d3e\uff09\u54cd\u5e94\u540e\uff0c\u6210\u4e3a leader\u3002"),(0,n.kt)("li",{parentName:"ul"},"AppendEntries\uff1a\u9644\u52a0\u65e5\u5fd7\uff0cleader \u53d1\u9001\u65e5\u5fd7\u548c\u5fc3\u8df3\u7684\u673a\u5236"),(0,n.kt)("li",{parentName:"ul"},"election timeout\uff1a\u9009\u4e3e\u8d85\u65f6\uff0c\u5982\u679c follower \u5728\u4e00\u6bb5\u65f6\u95f4\u5185\u6ca1\u6709\u6536\u5230\u4efb\u4f55\u6d88\u606f(\u8ffd\u52a0\u65e5\u5fd7\u6216\u8005\u5fc3\u8df3)\uff0c\u5c31\u662f\u9009\u4e3e\u8d85\u65f6\u3002")),(0,n.kt)("h3",{id:"\u7279\u6027"},"\u7279\u6027"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Leader \u4e0d\u4f1a\u4fee\u6539\u81ea\u8eab\u65e5\u5fd7\uff0c\u53ea\u4f1a\u505a\u8ffd\u52a0\u64cd\u4f5c\uff0c\u65e5\u5fd7\u53ea\u80fd\u7531 Leader \u8f6c\u5411 Follower\u3002\u4f8b\u5982\u5373\u5c06\u8981 down \u6389\u7684 Leader \u8282\u70b9\u5df2\u7ecf\u63d0\u4ea4\u65e5\u5fd7 1\uff0c\u672a\u63d0\u4ea4\u65e5\u5fd7 2\uff0c3\u3002down \u6389\u4e4b\u540e\uff0c\u8282\u70b9 2 \u542f\u52a8\u6700\u65b0\u65e5\u5fd7\u53ea\u6709 1\uff0c\u7136\u540e\u63d0\u4ea4\u4e86\u65e5\u5fd7 4\u3002\u597d\u5de7\u4e0d\u5de7\u8282\u70b9 1 \u53c8\u542f\u52a8\u4e86\u3002\u6b64\u65f6\u8282\u70b9 2 \u7684\u7f16\u53f7 4 \u65e5\u5fd7\u4f1a\u8ffd\u52a0\u5230\u8282\u70b9 1 \u7684\u7f16\u53f7 1 \u65e5\u5fd7\u7684\u540e\u9762\u3002\u8282\u70b9 1 \u7f16\u53f7 2\uff0c3 \u7684\u65e5\u5fd7\u4f1a\u4e22\u6389\u3002"),(0,n.kt)("li",{parentName:"ul"},"\u4e0d\u4f9d\u8d56\u5404\u4e2a\u8282\u70b9\u7269\u7406\u65f6\u5e8f\u4fdd\u8bc1\u4e00\u81f4\u6027\uff0c\u901a\u8fc7\u903b\u8f91\u9012\u589e\u7684 term-id \u548c log-id \u4fdd\u8bc1\u3002")),(0,n.kt)("h3",{id:"\u9009\u4e3b\u5951\u673a"},"\u9009\u4e3b\u5951\u673a"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"\u5728\u8d85\u65f6\u65f6\u95f4\u5185\u6ca1\u6709\u6536\u5230 Leader \u7684\u5fc3\u8df3"),(0,n.kt)("li",{parentName:"ul"},"\u542f\u52a8\u65f6")),(0,n.kt)("h3",{id:"\u9009\u4e3b\u8fc7\u7a0b"},"\u9009\u4e3b\u8fc7\u7a0b"),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"raft1.jpeg",src:l(9341).Z,width:"465",height:"311"})),(0,n.kt)("p",null,"\u5982\u56fe\u6240\u793a\uff0cRaft \u5c06\u65f6\u95f4\u5206\u4e3a\u591a\u4e2a term\uff08\u4efb\u671f\uff09\uff0cterm \u4ee5\u8fde\u7eed\u7684\u6574\u6570\u6765\u6807\u8bc6\uff0c\u6bcf\u4e2a term \u8868\u793a\u4e00\u4e2a\u9009\u4e3e\u7684\u5f00\u59cb\u3002\u4f8b\u5982 Follower \u8282\u70b9 1\uff0c\u5728 term1 \u548c term2 \u8fde\u63a5\u5904\u7684\u65f6\u95f4\uff0c\u8054\u7cfb\u4e0d\u5230 Leader\uff0c\u5c06 currentTerm \u7f16\u53f7\u52a0 1\uff0c\u53d8\u6210 2\uff0c\u8fdb\u5165\u4e86\u5230 term2 \u4efb\u671f\uff0c\u5728 term2 \u7684\u84dd\u8272\u90e8\u5206\u9009\u4e3e\u5b8c\u6210\uff0c\u7eff\u8272\u90e8\u5206\u6b63\u5e38\u5de5\u4f5c\u3002"),(0,n.kt)("p",null,"\u5f53\u7136\u4e00\u4e2a\u4efb\u671f\u4e0d\u4e00\u5b9a\u80fd\u9009\u51fa Leader\uff0c\u90a3\u4e48\u4f1a\u5c06 currentTerm \u7ee7\u7eed\u52a0 1\uff0c\u7136\u540e\u7ee7\u7eed\u8fdb\u884c\u9009\u4e3e\uff0c\u4f8b\u5982\u56fe\u4e2d\u7684 t3\u3002\u9009\u4e3e\u7684\u539f\u5219\u662f\uff0c\u6bcf\u4e00\u8f6e\u9009\u4e3e\u6bcf\u4e2a\u9009\u6c11\u4e00\u5f20\u9009\u7968\uff0c\u6295\u7968\u7684\u8bf7\u6c42\u5148\u5230\u4e14\u9009\u6c11\u53d1\u73b0\u5019\u9009\u4eba\u8282\u70b9\u7684\u65e5\u5fd7 id \u5927\u4e8e\u7b49\u4e8e\u81ea\u5df1\u7684\uff0c\u5c31\u4f1a\u6295\u7968\uff0c\u5426\u8005\u4e0d\u4f1a\u6295\u7968\u3002\u83b7\u5f97\u534a\u6570\u4ee5\u4e0a\u7684\u7968\u7684\u8282\u70b9\u6210\u4e3a\u4e3b\u8282\u70b9\uff0c",(0,n.kt)("strong",{parentName:"p"},"\u6ce8\u610f"),"\u8fd9\u5e76\u4e0d\u662f\u8bf4\u9009\u51fa\u6765\u7684\u4e8b\u52a1 id \u4e00\u5b9a\u662f\u6700\u5927\u7684\u3002\u4f8b\u5982 a~f \u516d\u4e2a\u8282\u70b9\uff08\u6b63\u65b9\u5f62\u6846\u91cc\u9762\u7684\u6570\u5b57\u662f\u9009\u4e3e\u7684\u8f6e\u6570 term\uff09,\u5728\u7b2c\u56db\u8f6e\u9009\u4e3e\u4e2d\uff0ca \u5148\u53d1\u51fa\u6295\u7968\uff0c\u516d\u53f0\u673a\u5668\u4e2d\uff0ca~e \u90fd\u4f1a\u6295 a\uff0c\u5373\u4f7f f \u4e0d\u6295 a\uff0ca \u4e5f\u4f1a\u8d62\u5f97\u9009\u4e3e\u3002\u5982\u679c\u6ca1\u6709\u4e8b\u52a1 id\uff08\u5982\u521a\u542f\u52a8\u65f6\uff09\uff0c\u5c31\u9075\u5faa\u6295\u7968\u8bf7\u6c42\u5148\u6765\u5148\u5934\u3002\u7136\u540e Leader \u5c06\u6700\u65b0\u7684\u65e5\u5fd7\u590d\u5236\u5230\u5404\u4e2a\u8282\u70b9\uff0c\u518d\u5bf9\u5916\u63d0\u4f9b\u670d\u52a1\u3002"),(0,n.kt)("p",null,"\u5f53\u7136\u9664\u4e86\u8fd9\u4e9b\u9009\u4e3e\u9650\u5236\uff0c\u8fd8\u4f1a\u6709\u5176\u4ed6\u7684\u60c5\u51b5\u3002\u5982 commit \u9650\u5236\u7b49\u4fdd\u8bc1\uff0cLeader \u9009\u4e3e\u6210\u529f\u4e00\u5b9a\u5305\u542b\u6240\u6709\u7684 commit \u548c log\u3002"),(0,n.kt)("h3",{id:"\u65e5\u5fd7\u590d\u5236\u8fc7\u7a0b"},"\u65e5\u5fd7\u590d\u5236\u8fc7\u7a0b"),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"raft2.png",src:l(8293).Z,width:"1080",height:"317"})),(0,n.kt)("p",null,"raft \u65e5\u5fd7\u5199\u5165\u8fc7\u7a0b\uff0c\u4e3b\u8282\u70b9\u6536\u5230\u4e00\u4e2a x=1 \u7684\u8bf7\u6c42\u540e\uff0c\u4f1a\u5199\u5165\u672c\u5730\u65e5\u5fd7\uff0c\u7136\u540e\u5c06 x=1 \u7684\u65e5\u5fd7\u5e7f\u64ad\u51fa\u53bb\uff0cfollower \u5982\u679c\u6536\u5230\u8bf7\u6c42\uff0c\u4f1a\u5c06\u65e5\u5fd7\u5199\u5165\u672c\u5730 log \uff0c\u7136\u540e\u8fd4\u56de\u6210\u529f\u3002\u5f53 leader \u6536\u5230\u534a\u6570\u4ee5\u4e0a\u7684\u8282\u70b9\u56de\u5e94\u65f6\uff0c\u4f1a\u5c06\u6b64\u65e5\u5fd7\u7684\u72b6\u6001\u53d8\u4e3a commit\uff0c\u7136\u540e\u5e7f\u64ad\u6d88\u606f\u8ba9 follwer \u63d0\u4ea4\u65e5\u5fd7\u3002\u8282\u70b9\u5728 commit \u65e5\u5fd7\u540e\uff0c\u4f1a\u66f4\u65b0\u72b6\u6001\u673a\u4e2d\u7684 logindex \u3002"),(0,n.kt)("p",null,"firstLogIndex/lastLogIndex \u4e3a\u8282\u70b9\u4e2d\u5f00\u59cb\u548c\u7ed3\u675f\u7684\u7d22\u5f15\u4f4d\u7f6e\uff08\u5305\u542b\u63d0\u4ea4\uff0c\u672a\u63d0\u4ea4\uff0c\u5199\u5165\u72b6\u6001\u673a\uff09commitIndex\uff1a\u5df2\u63d0\u4ea4\u7684\u7d22\u5f15\u3002applyIndex\uff1a\u5df2\u5199\u5165\u72b6\u6001\u673a\u4e2d\u7684\u7d22\u5f15\u3002"),(0,n.kt)("admonition",{type:"info"},(0,n.kt)("p",{parentName:"admonition"},"\u65e5\u5fd7\u590d\u5236\u7684\u672c\u8d28\u662f\u8ba9 follwer \u548c Leader \u7684\u5df2\u63d0\u4ea4\u7684\u65e5\u5fd7\u987a\u5e8f\u548c\u5185\u5bb9\u90fd\u5b8c\u5168\u4e00\u6837\uff0c\u7528\u4e8e\u4fdd\u8bc1\u4e00\u81f4\u6027")),(0,n.kt)("p",null,"\u5177\u4f53\u7684\u539f\u5219\u5c31\u662f\uff1a"),(0,n.kt)("p",null,"\u539f\u5219 1\uff1a\u4e24\u4e2a\u65e5\u5fd7\u5728\u4e0d\u540c\u7684 raft \u8282\u70b9\u4e2d\uff0c\u5982\u679c\u6709\u4e24\u4e2a\u76f8\u540c\u7684 term \u548c logIndex \uff0c\u5219\u4fdd\u8bc1\u4e24\u4e2a\u65e5\u5fd7\u7684\u5185\u5bb9\u5b8c\u5168\u4e00\u6837\u3002"),(0,n.kt)("p",null,"\u539f\u5219 2\uff1a\u4e24\u6bb5\u65e5\u5fd7\u5728\u4e0d\u540c\u7684 raft \u8282\u70b9\u4e2d\uff0c\u5982\u679c\u8d77\u59cb\u548c\u7ec8\u6b62\u7684\u7684 term\uff0clogIndex \u90fd\u76f8\u540c\uff0c\u90a3\u4e48\u4e24\u6bb5\u65e5\u5fd7\u4e2d\u65e5\u5fd7\u5185\u5bb9\u5b8c\u5168\u4e00\u6837\u3002"),(0,n.kt)("p",null,"\u5982\u4f55\u4fdd\u8bc1"),(0,n.kt)("p",null,"\u7b2c\u4e00\u4e2a\u539f\u5219\u53ea\u9700\u8981\u5728\u521b\u5efa logIndex \u7684\u65f6\u5019\u4f7f\u7528\u65b0\u7684 logIndex\uff0c\u4fdd\u8bc1 logIndex \u7684\u552f\u4e00\u6027\u3002\u800c\u4e14\u521b\u5efa\u4e4b\u540e\u4e0d\u53bb\u66f4\u6539\u3002\u90a3\u4e48\u5728 leader \u590d\u5236\u5230 follwer \u4e4b\u540e\uff0clogIndex\uff0cterm \u548c\u65e5\u5fd7\u5185\u5bb9\u90fd\u6ca1\u53d8\u3002"),(0,n.kt)("p",null,"\u7b2c\u4e8c\u4e2a\u539f\u5219\uff0c\u5728 Leader \u590d\u5236\u7ed9 Follower \u65f6\uff0c\u8981\u4f20\u9012\u5f53\u524d\u6700\u65b0\u65e5\u5fd7 currenTermId \u548c currentLogIndex\uff0c\u4ee5\u53ca\u4e0a\u4e00\u6761\u65e5\u5fd7 preCurrentTermId \u548c preCurrentLogIndex\u3002\u5982\u4e0a\u56fe\uff0c\u5728 d \u8282\u70b9\uff0cterm7\uff0clogIndex12\u3002\u5728\u7ed9\u8282\u70b9\u8282\u70b9 a \u540c\u6b65\u65f6\uff0c\u53d1\u9001(term7\uff0clogIndex11)\uff0c(term7\uff0clogIndex12),a \u8282\u70b9\u6ca1\u6709\u627e\u5230(term7\uff0clogIndex11)\u7684\u65e5\u5fd7\uff0c\u4f1a\u8ba9 Leader\uff0cd \u8282\u70b9\u91cd\u65b0\u53d1\u9001\u3002d \u8282\u70b9\u4f1a\u91cd\u65b0\u53d1\uff08term6\uff0clogIndex10\uff09(term7\uff0clogIndex11)\uff0c\u8fd8\u662f\u6ca1\u6709(term6\uff0clogIndex10)\u7684\u65e5\u5fd7,\u4f9d\u7136\u4f1a\u62d2\u7edd\u540c\u6b65\u3002\u63a5\u7740\u53d1(term6\uff0clogIndex9)(term6\uff0clogIndex10)\u3002\u73b0\u5728 a \u8282\u70b9\u6709\u4e86(term6\uff0clogIndex9)\u3002\u90a3\u4e48 leader \u8282\u70b9\u5c31\u4f1a\u5c06(term6\uff0clogIndex9) ~ (term7\uff0clogIndex11)\u65e5\u5fd7\u5185\u5bb9\u7ed9\u8282\u70b9 a\uff0c\u8282\u70b9 a \u5c06\u4f1a\u548c\u8282\u70b9 d \u6709\u4e00\u6837\u7684\u65e5\u5fd7\u3002"),(0,n.kt)("h2",{id:"\u4f7f\u7528-raft--rocksdb-\u6709\u8d5e\u5206\u5e03\u5f0f-kv-\u5b58\u50a8\u670d\u52a1"},"\u4f7f\u7528 Raft + RocksDB \u6709\u8d5e\u5206\u5e03\u5f0f KV \u5b58\u50a8\u670d\u52a1"),(0,n.kt)("p",null,"\u5f53\u524d\u5f00\u6e90\u7684\u7f13\u5b58 kv \u7cfb\u7edf\uff0c\u5927\u90fd\u662f AP \u7cfb\u7edf\uff0c\u4f8b\u5982\u8bbe\u7f6e\u4e3b\u4ece\u540c\u6b65\u96c6\u7fa4 redis\uff0cmaster \u5f02\u6b65\u540c\u6b65\u5230 slave\u3002\u867d\u7136\u5728 master \u505c\u6b62\u670d\u52a1\u540e\uff0cslave \u4f1a\u9876\u4e0a\u6765\u3002\u4f46\u662f\u5728 master \u5199\u5165\u4e86\u6570\u636e\uff0c\u4f46\u662f\u8fd8\u6ca1\u6765\u5f97\u53ca\u540c\u6b65\u5230 slave \u5c31 down \u4e86\uff0c\u7136\u540e slave \u88ab\u9009\u4e3a\u4e3b\u8282\u70b9\u7ee7\u7eed\u5bf9\u5916\u63d0\u4f9b\u670d\u52a1\u7684\u60c5\u51b5\u4e0b\uff0c\u4f1a\u4e22\u5931\u90e8\u5206\u6570\u636e\u3002\u8fd9\u5bf9\u4e8e\u8981\u6c42\u5f3a\u4e00\u81f4\u6027\u7684\u7cfb\u7edf\u6765\u8bf4\u662f\u4e0d\u53ef\u63a5\u53d7\u7684\u3002\u4f8b\u5982\u5f88\u591a\u573a\u666f\u4e0b redis \u505a\u5206\u5e03\u5f0f\u9501\uff0c\u6709\u5929\u7136\u7684\u7f3a\u9677\u5728\u91cc\u9762\uff0c\u5982\u679c master \u505c\u6b62\u670d\u52a1\uff0c\u8fd9\u4e2a\u9501\u4e0d\u5f88\u4e0d\u53ef\u9760\u7684\uff0c\u867d\u7136\u51fa\u73b0\u7684\u51e0\u7387\u5f88\u5c0f\uff0c\u4f46\u4e00\u65e6\u51fa\u73b0\uff0c\u5c06\u662f\u81f4\u547d\u7684\u9519\u8bef\u3002"),(0,n.kt)("p",null,"\u4e3a\u4e86\u5b9e\u73b0 CP \u7684 KV \u5b58\u50a8\u7cfb\u7edf\uff0c\u4e14\u8981\u517c\u5bb9\u73b0\u6709\u7684 redis \u4e1a\u52a1\u3002\u6709\u8d5e\u5f00\u53d1\u4e86 ZanKV\uff08\u73b0\u5df2\u5f00\u6e90 ZanRedisDB\uff09\u3002"),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"zankv1.jpeg",src:l(2438).Z,width:"694",height:"460"})),(0,n.kt)("p",null,"\u5e95\u5c42\u7684\u5b58\u50a8\u7ed3\u6784\u662f RocksDB\uff08\u5e95\u5c42\u91c7\u7528 LSM \u6570\u636e\u7ed3\u6784\uff09\u3002\u4e00\u4e2a setx=1 \u7684\u4f1a\u901a\u8fc7 redis protocol \u534f\u8bae\u4f20\u8f93\uff0c\u5185\u5bb9\u4f1a\u901a\u8fc7 Raft \u534f\u8bae\uff0c\u540c\u6b65\u5199\u5165\u5230\u5176\u4ed6\u7684\u8282\u70b9\u7684 RocksDB\u3002\u6709\u4e86 Raft \u7406\u8bba\u7684\u52a0\u6301\uff0cRocksDB \u4f18\u79c0\u7684\u5b58\u50a8\u6027\u80fd\uff0c\u5373\u4f7f\u9047\u5230\u7f51\u7edc\u5206\u533a\uff0cmaster \u8282\u70b9 down \u6389\uff0c slave \u8282\u70b9 down \u6389\uff0c\u7b49\u4e00\u7cfb\u5217\u5f02\u5e38\u60c5\u51b5\uff0c\u5176\u90fd\u80fd\u8f7b\u677e\u5e94\u5bf9\u3002\u5728\u6269\u5bb9\u65b9\u9762\uff0c\u7cfb\u7edf\u7528\u9009\u62e9\u7ef4\u62a4\u6620\u5c04\u8868\u7684\u65b9\u5f0f\u6765\u5efa\u7acb\u5206\u533a\u548c\u8282\u70b9\u7684\u5173\u7cfb\uff0c\u6620\u5c04\u8868\u4f1a\u6839\u636e\u4e00\u5b9a\u7684\u7b97\u6cd5\u5e76\u914d\u5408\u7075\u6d3b\u7684\u7b56\u7565\u751f\u6210\uff0c\u6765\u8fbe\u5230\u65b9\u4fbf\u6269\u5bb9\u3002\u5177\u4f53\u539f\u7406\u53ef\u53c2\u89c1",(0,n.kt)("a",{parentName:"p",href:"http://mp.weixin.qq.com/s?__biz=MzAxOTY5MDMxNA==&mid=2455758863&idx=1&sn=f36780332396801b4acc975c4b8e1359&chksm=8c686e2abb1fe73c156d0a6b7efff4042b4d723bc14a153f45a5bf983e5fae0240c03f2336de&scene=21#wechat_redirect"},"\u300a\u4f7f\u7528\u5f00\u6e90\u6280\u672f\u6784\u5efa\u6709\u8d5e\u5206\u5e03\u5f0f KV \u5b58\u50a8\u670d\u52a1\u300b"),"\u3002"),(0,n.kt)("h2",{id:"\u603b\u7ed3"},"\u603b\u7ed3"),(0,n.kt)("p",null,"\u4e3a\u4e86\u4fdd\u8bc1\u6570\u636e commit \u4e4b\u540e\u4e0d\u53ef\u4e22\uff0c\u7cfb\u7edf\u90fd\u4f1a\u91c7\u7528\uff08WAL write ahead log\uff09\uff08\u5728\u6bcf\u6b21\u4fee\u6539\u6570\u636e\u4e4b\u524d\u5148\u5199\u64cd\u4f5c\u5185\u5bb9\u65e5\u5fd7\uff0c\u7136\u540e\u518d\u53bb\u4fee\u6539\u6570\u636e\u3002\u5373\u4f7f\u4fee\u6539\u6570\u636e\u65f6\u5f02\u5e38\uff0c\u4e5f\u53ef\u4ee5\u901a\u8fc7\u64cd\u4f5c\u5185\u5bb9\u65e5\u5fd7\u6062\u590d\u6570\u636e\uff09"),(0,n.kt)("p",null,"\u5206\u5e03\u5f0f\u5b58\u50a8\u7cfb\u7edf\u4e2d\uff0c\u662f\u5047\u8bbe\u673a\u5668\u662f\u4e0d\u7a33\u5b9a\uff0c\u968f\u65f6\u90fd\u6709\u53ef\u80fd down \u6389\u7684\u60c5\u51b5\u4e0b\u6765\u8bbe\u8ba1\u7684\u3002\u4e5f\u5c31\u662f\u8bf4\u5c31\u7b97\u673a\u5668 down \u6389\u4e86\uff0c\u7528\u6237\u5199\u5165\u7684\u6570\u636e\u4e5f\u4e0d\u80fd\u4e22\uff0c\u907f\u514d\u5355\u70b9\u6545\u969c\u3002\u4e3a\u6b64\u6bcf\u4e00\u4efd\u5199\u5165\u7684\u6570\u636e\uff0c\u9700\u8981\u5728\u591a\u4e2a\u526f\u672c\u4e2d\u540c\u65f6\u5b58\u653e\u3002\u4f8b\u5982 zk \u8282\u70b9\u6570\u636e\u590d\u5236\uff0cetcd \u7684\u6570\u636e\u590d\u5236\u3002\u800c\u590d\u5236\u6570\u636e\u7ed9\u8282\u70b9\u53c8\u4f1a\u5e26\u6765\u4e00\u81f4\u6027\u7684\u95ee\u9898\uff0c\u4f8b\u5982\u4e3b\u8282\u70b9\u548c\u4ece\u8282\u70b9\u6570\u636e\u4e0d\u4e00\u81f4\u6539\u5982\u4f55\u53bb\u540c\u6b65\u6570\u636e\u3002\u4e5f\u4f1a\u5e26\u6765\u53ef\u7528\u6027\u7684\u95ee\u9898\uff0c\u5982 leader \u8282\u70b9 down \u6389\uff0c\u5982\u4f55\u5feb\u901f\u9009\u4e3b\uff0c\u6062\u590d\u6570\u636e\u7b49\u3002\u597d\u5728\u5df2\u6709\u6210\u719f\u7684\u7406\u8bba\u5982 Paxos \u534f\u8bae\uff0cZAB \u534f\u8bae Raft \u534f\u8bae\u7b49\u505a\u4e3a\u652f\u6491\u3002"))}u.isMDXComponent=!0},9341:(e,t,l)=>{l.d(t,{Z:()=>r});const r=l.p+"assets/images/raft1-a9117582816b6543e1c47c963c3a668d.jpeg"},8293:(e,t,l)=>{l.d(t,{Z:()=>r});const r="data:image/png;base64,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"},2438:(e,t,l)=>{l.d(t,{Z:()=>r});const r=l.p+"assets/images/zankv1-8ec142e2a701adb279969688f76e6c41.jpeg"}}]);