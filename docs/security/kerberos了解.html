<!doctype html>
<html lang="zh-Hans" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-security/kerberos了解" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.3">
<title data-rh="true">kerberos了解 | Docs</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://www.ylsite.tk/docs/security/kerberos了解"><meta data-rh="true" name="docusaurus_locale" content="zh-Hans"><meta data-rh="true" name="docsearch:language" content="zh-Hans"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="kerberos了解 | Docs"><meta data-rh="true" name="description" content="介绍"><meta data-rh="true" property="og:description" content="介绍"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://www.ylsite.tk/docs/security/kerberos了解"><link data-rh="true" rel="alternate" href="https://www.ylsite.tk/docs/security/kerberos了解" hreflang="zh-Hans"><link data-rh="true" rel="alternate" href="https://www.ylsite.tk/docs/security/kerberos了解" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Docs RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Docs Atom Feed"><link rel="stylesheet" href="/assets/css/styles.e72108b9.css">
<link rel="preload" href="/assets/js/runtime~main.b20b7b88.js" as="script">
<link rel="preload" href="/assets/js/main.346a864d.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="跳到主要内容"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">跳到主要内容</a></div><nav aria-label="主导航" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="切换导航栏" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.png" alt="yolo-docs Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/logo.png" alt="yolo-docs Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">yolo-docs</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/About">文档</a><a class="navbar__item navbar__link" href="/blog">博客</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/yoloz/yolo-docs" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="切换浅色/暗黑模式（当前为浅色模式）" aria-label="切换浅色/暗黑模式（当前为浅色模式）" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><div class="navbar__search searchBarContainer_NW3z"><input placeholder="搜索" aria-label="Search" class="navbar__search-input"><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div><div class="searchHintContainer_Pkmr"><kbd class="searchHint_iIMx">ctrl</kbd><kbd class="searchHint_iIMx">K</kbd></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="回到顶部" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="文档侧边栏" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/About">About</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/AI&amp;ML/machine learning">AI&amp;ML</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/bigdata/CDH使用">bigdata</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/concept/RESTful学习">concept</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/concurrent/JAVA的锁学习">concurrent</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/database/ES-SQL">database</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/devOps/su与sudo">devOps</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/docker/dockerfile学习">docker</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/forend/HTML知识点">forend</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/golang/defer及异常处理">golang</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/java/EventBus使用">java</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/jvm/JNA中乱码和释放内存">jvm</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/linux/AIpine系统">linux</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/maven/maven-checkstyle-plugin">maven</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/netty/了解netty写">netty</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/network/cksum问题">network</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/react/react-loadable代码分割">react</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/docs/security/SSL双向认证实现">security</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/security/SSL双向认证实现">SSL双向认证实现</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/security/X.509中的扩展项">X.509中的扩展项</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/security/https身份验证">https身份验证</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/security/kerberos了解">kerberos了解</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/security/kerberos使用">kerberos使用</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/security/kerberos常见问题">kerberos常见问题</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/security/创建自签名证书(https)">创建自签名证书(https)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/security/工具keytool使用">工具keytool使用</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/security/数据安全三要素">数据安全三要素</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/shell/bash和bat">shell</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/spring/SpringBoot配置集合">spring</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/tools/GitHub Actions">tools</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/vue/import_meta_glob">vue</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/window/nsis安装包制作">window</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="页面路径"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="主页面" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">security</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">kerberos了解</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">本页总览</button></div><div class="theme-doc-markdown markdown"><header><h1>kerberos了解</h1></header><h2 class="anchor anchorWithStickyNavbar_LWe7" id="介绍">介绍<a href="#介绍" class="hash-link" aria-label="介绍的直接链接" title="介绍的直接链接">​</a></h2><p>Kerberos 是一种流行的身份验证协议，可用于单点登录 （SSO）。SSO 背后的主要关键概念是用户通过单次登录（一次性活动）即可获得所有服务认证，无需每个服务操作认证一次。Kerberos 系统提供针对许多网络攻击和漏洞的保护。以下是 Kerberos 的一些特征：</p><ul><li>使用票证进行身份验证</li><li>避免在本地保存密码</li><li>避免通过互联网发送密码</li><li>引入受信任的第三方</li><li>基于对称密钥加密构建</li></ul><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>提示</div><div class="admonitionContent_S0QG"><p>Kerberos 有许多实现，目前我们常用的是 MIT krb5(1980 年麻省理工学院开发了 Kerberos 来保护 Athena 项目提供的网络服务,当前版本为第 5 版)</p></div></div><p><a href="http://web.mit.edu/kerberos/krb5-current/doc/mitK5features.html" target="_blank" rel="noopener noreferrer">MIT Kerberos Documentation</a></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="解决问题">解决问题<a href="#解决问题" class="hash-link" aria-label="解决问题的直接链接" title="解决问题的直接链接">​</a></h3><p>在单机系统上，可以使用密钥或密码来证明用户的身份，但在分布式计算机网络系统上，如果使用密码或密钥来认证，则需要将密码或密钥通过网络从一台机器传输到另一台机器。例如，如果用户从服务器请求私有文件，则该用户需要将其密钥发送到服务器以对其进行身份验证。因为该密码是标识用户的唯一机密信息，所以网络中任何知道用户密码的人都可以作为该用户访问其文件。因此，有必要防止任何人拦截或窃听传输的密码。此外，有必要提供一种在用户请求服务时对用户进行身份验证的方法，用户必须证明自己的身份。</p><p>综上，Kerberos 的两个基调:安全性和身份验证。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="概念">概念<a href="#概念" class="hash-link" aria-label="概念的直接链接" title="概念的直接链接">​</a></h2><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>备注</div><div class="admonitionContent_S0QG"><p>principal 主要由三部分构成：primary，instance(可选) 和 realm。包含 instance 的 principal，一般会作为 server 端的 principal,不含有 instance 的 principal，一般会作为 客户端的 principal，用于身份认证。如：</p><ul><li>部署在 foo.yunzhisec.com 节点的 hiverserver2 的 principal:<code>hiverserver2/foo.yunzhisec.com@EXAMPLE.COM</code>(primary/instance@realm)</li><li>用户 test:<code>test@EXAMPLE.COM</code>(primary@realm)</li></ul><p>keytab：keytab 是包含 principal(可多个)和加密 principal key 的文件，keytab 文件对于每个 host 是唯一的，因为 key 中包含 hostname。</p><p>Ticket Cache：客户端与 KDC 交互完成后，包含身份认证信息的文件，短期有效，需要不断 renew;</p><p>realm：Kerberos 系统中的一个 namespace。不同 Kerberos 环境，可以通过 realm 进行区分。</p></div></div><p>Kerberos 主要由三个部分组成：Key Distribution Center (即 KDC)、客户端（Client）和普通服务器（Server）。 大致关系如下图所示：</p><p><img loading="lazy" alt="kerberos" src="/assets/images/kerberos-5366f22a529ddbb3f825dd12df2b954f.png" width="865" height="582" class="img_ev3q"></p><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>信息</div><div class="admonitionContent_S0QG"><ul><li><p>Key Distribution Center (KDC)</p><p>Each Kerberos realm will have at least one Kerberos server. This server, the Key Distribution Center, contains the Authentication Service, the Ticket-Granting Service, and the master database for Kerberos. These services are implemented as a single daemon.</p></li><li><p>Authentication Service</p><ul><li>The authentication service handles user authentication, or the process of verifying that principals are correctly identified.</li><li>Consists of the security servers in the KDC (or KDCs), and security clients.</li><li>A security client communicates with a security server to request information and operations. The security server accesses the registry database to perform queries and updates and to validate user logins.</li></ul></li><li><p>Ticket-Granting Service:</p><ul><li>Once authenticated, a principal will be granted a TGT and a ticket session key, which gives the principal the right to use the ticket. This combination of the ticket and its associated key is known as your credentials.</li><li>A principal’s credentials are stored in a credentials cache, which is often just a file in the principal’s local directory tree.</li></ul></li><li><p>The Kerberos Database:包含了 realm 中所有的 principal、密码与其他信息。（默认：Berkeley DB）</p><ul><li>Each KDC contains its own copy of the Kerberos database. The master KDC contains the primary copy of the database, which it propagates at regular intervals to the slave KDCs.</li></ul></li><li><p>Access tools
Tools used to access the Kerberos information are:</p><ul><li>kadmin - Used for reading or updating the Kerberos registry(管理员命令行).</li><li>kinit - Creates credentials for a user(用户登陆).</li><li>klist - Displays the existing credentials for a user(列出当前账号信息).</li><li>kdestroy - Deletes a user’s credentials(销毁登录信息).</li><li>kpasswd - Changes a user’s Kerberos password.</li><li>kdb5_util - Dumps or loads the Kerberos database for save and restore operations.</li></ul></li></ul></div></div><ul><li>Key Distribution Center (KDC)：Each Kerberos realm will have at least one Kerberos server.</li><li>Authentication Service：</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="认证流程">认证流程<a href="#认证流程" class="hash-link" aria-label="认证流程的直接链接" title="认证流程的直接链接">​</a></h2><p>开启安全认证后的认证方式有两种：</p><ul><li>使用密码认证
使用用户密码通过 kinit 认证， 获取到的 TGT 存在本地凭证缓存当中， 供后续访问服务认证使用，一般在交互式访问中使用。</li><li>使用 keytab 认证
用户通过导出的 keytab 可以免密码进行用户认证(后续步骤一致)，一般在应用程序中配置使用。</li></ul><p>Kerberos 的认证过程可细分为三个阶段：初始验证、获取服务票据和服务验证：</p><ol><li>客户端向 KDC 中的 AS 发送用户信息，以及请求 TGT;</li><li>客户端拿到之前获得的 TGT 向 KDC 中的 TGS 请求访问某个服务的票据;</li><li>拿到票据(Ticket)后再到该服务的提供端验证身份，然后使用建立的加密通道(后续的通信采用 session key 加密，就好像客户端与服务端建立一个加密通道)和服务通信;</li></ol><p>假设上述<code>Service x</code>是一个 http 服务，认证过程如下：</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="第一步">第一步<a href="#第一步" class="hash-link" aria-label="第一步的直接链接" title="第一步的直接链接">​</a></h3><p>客户端(client)将相关信息(<strong>plaintext</strong>)发送给 Authentication Server;</p><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>相关信息</div><div class="admonitionContent_S0QG"><ul><li>your name/ID</li><li>the name/ID of the requested service (in this case, service is the Ticket Granting Server),</li><li>your network address (may be a list of IP addresses for multiple machines, or may be null if wanting to use on any machine);</li><li>requested lifetime for the validity of the TGT</li></ul></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="第二步">第二步<a href="#第二步" class="hash-link" aria-label="第二步的直接链接" title="第二步的直接链接">​</a></h3><p>Authentication Server 将检查 client 是否在 KDC 数据库中。此检查仅用于查看是否存在，未检查任何凭据。如果没有错误，将随机生成一个 key(<code>TGS Session Key</code>)供 client 和 TGS 通信使用。随后 Authentication Server 将发送两条信息给客户端。其中一条信息被称为 TGT，由<code>TGS Secret Key</code>加密，客户端无法解密。</p><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>TGT</div><div class="admonitionContent_S0QG"><ul><li>the TGS name/ID;</li><li>timestamp;</li><li>your network address (may be a list of IP addresses for multiple machines, or may be null if wanting to use on any machine);</li><li>lifetime of the TGT (could be what you initially requested, lower if you or the TGS’s secret keys are about to expire, or another limit that was implemented during the Kerberos setup);</li><li>TGS Session Key</li></ul></div></div><p>另一条信息由<code>Client Secret Key</code>(通过密码，salt(made up of <a href="mailto:user@REALMNAME.COM" target="_blank" rel="noopener noreferrer">user@REALMNAME.COM</a>) 和散列计算可得出)加密。</p><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>备注</div><div class="admonitionContent_S0QG"><p>如果客户端的密码不正确则无法解密，隐式验证输入密码的正确性。</p></div></div><p>信息包含：</p><ul><li>the TGS name/ID;</li><li>timestamp;</li><li>lifetime of the TGT(same as above);</li><li>TGS Session Key</li></ul><div class="theme-admonition theme-admonition-caution alert alert--warning admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>注意</div><div class="admonitionContent_S0QG"><ul><li>The encrypted TGT is stored within your credential cache.</li><li>the <code>TGS Session Key</code> is the shared key between you and the TGS.</li></ul></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="第三步">第三步<a href="#第三步" class="hash-link" aria-label="第三步的直接链接" title="第三步的直接链接">​</a></h3><p>客户端通过<code>Client Secret Key</code>解密出第二条信息得到<code>TGS Session Key</code>，使用其加密自己的 Authenticator:</p><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Authenticator</div><div class="admonitionContent_S0QG"><ul><li>your name/ID;</li><li>timestamp</li></ul></div></div><p>然后发送以下信息给 Ticket Granting Server：</p><ul><li>上述加密的 Authenticator;</li><li>无法解密的 TGT;</li><li>未加密的信息(<strong>plaintext</strong>),包含：</li></ul><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>unencrypted message</div><div class="admonitionContent_S0QG"><ul><li>the requested HTTP Service name/ID you want access to;</li><li>lifetime of the Ticket for the HTTP Service</li></ul></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="第四步">第四步<a href="#第四步" class="hash-link" aria-label="第四步的直接链接" title="第四步的直接链接">​</a></h3><p>TGS 收到客户端的信息，首先从 KDC database 中检查 HTTP 服务是否存在(未加密信息里携带有 HTTP 服务信息)，检查没问题则使用<code>TGS Secret Key</code>解密 TGT 得到<code>TGS Session Key</code>，然后使用其解密收到的 Authenticator 信息得到客户端信息。TGS 解密出所有信息后，将进行身份检查：</p><ul><li>将 Authenticator 中的客户端 ID 与 TGT 的客户端 ID 进行比较;</li><li>比较来自 Authenticator 的时间戳和 TGT 的时间戳 (典型的 Kerberos 系统对差异的容忍度是 2 分钟，可以配置);</li><li>检查 TGT 是否过期(lifetime element);</li><li>检查 Authenticator 是否已经在 TGS 的缓存中（for avoiding replay attacks）;</li><li>如果原始请求中的网络地址不为空，则将源的 IP 地址与 TGT 里的网络地址（或地址列表）进行比较;</li></ul><p>当所有检查都通过后，TGS 会随机生成一个 key(<code>HTTP Service Session Key</code>)供客户端与 HTTP 服务通信使用。随后 Ticket Granting Server 将发送两条信息给客户端。</p><p>其中一条信息被称为<code>HTTP Service ticket</code>，由<code>HTTP Service Secret Key</code>加密，客户端无法解密。</p><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>HTTP Service ticket</div><div class="admonitionContent_S0QG"><ul><li>your name/ID;</li><li>HTTP Service name/ID;</li><li>your network address (may be a list of IP addresses for multiple machines, or may be null if wanting to use on any machine);</li><li>timestamp;</li><li>lifetime of the validity of the ticket;</li><li>HTTP Service Session Key;</li></ul></div></div><p>另一条信息由<code>TGS Session Key</code>加密，信息包含：</p><ul><li>HTTP Service name/ID;</li><li>timestamp;</li><li>lifetime of the validity of the ticket;</li><li>HTTP Service Session Key;</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="第五步">第五步<a href="#第五步" class="hash-link" aria-label="第五步的直接链接" title="第五步的直接链接">​</a></h3><p>客户端使用第一步得到的<code>TGS Session Key</code>解密后一条信息得到<code>HTTP Service Session Key</code>，使用其加密自己的 Authenticator:</p><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Authenticator</div><div class="admonitionContent_S0QG"><ul><li>your name/ID;</li><li>timestamp</li></ul></div></div><p>然后发送以下信息给 HTTP 服务:</p><ul><li>上述加密的 Authenticator;</li><li>无法解密的 HTTP Service ticket;</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="第六步">第六步<a href="#第六步" class="hash-link" aria-label="第六步的直接链接" title="第六步的直接链接">​</a></h3><p>HTTP 服务首先利用自身的密钥(<code>HTTP Service Secret Key</code>)解密出 <code>HTTP Service ticket</code> 的信息得到 <code>HTTP Service Session Key</code>,然后使用它解密出客户端的 Authenticator 信息。同 TGS 一样,HTTP Server 会做如下检查:</p><ul><li>将 Authenticator 中的客户端 ID 与 HTTP Service ticket 中的客户端 ID 进行比较；</li><li>比较来自 Authenticator 的时间戳和 HTTP Service ticket 的时间戳 (典型的 Kerberos 系统对差异的容忍度是 2 分钟，可以配置)</li><li>检查 HTTP Service ticket 是否过期(lifetime element);</li><li>检查 Authenticator 是否已经在 HTTP 服务器的缓存中（for avoiding replay attacks）;</li><li>如果原始请求中的网络地址不为空，则将源的 IP 地址与 HTTP Service ticket 里的网络地址（或地址列表）进行比较;</li></ul><p>当所有检查都通过后，HTTP Service 发送一条由<code>HTTP Service Session Key</code>加密的信息(Authenticator)给客户端:</p><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Authenticator</div><div class="admonitionContent_S0QG"><ul><li>HTTP Service name/ID;</li><li>timestamp;</li></ul></div></div><p>客户端使用缓存的<code>HTTP Service Session Key</code>解密接收到的 Authenticator 信息得到 HTTP Service’s ID 和 timestamp.</p><p>至此认证完成,后续客户端和 HTTP Serivce 之间使用缓存的<code>HTTP Service Ticket</code>即可,直到它过期（lifetime attribute）。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="kerberos-益处">Kerberos 益处<a href="#kerberos-益处" class="hash-link" aria-label="Kerberos 益处的直接链接" title="Kerberos 益处的直接链接">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="scalable">Scalable<a href="#scalable" class="hash-link" aria-label="Scalable的直接链接" title="Scalable的直接链接">​</a></h3><ul><li>Servers do not need to contact KDC to authenticate users</li><li>Only users and machine account authenticate with the KDC, once per 10h of activity</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="secure">Secure<a href="#secure" class="hash-link" aria-label="Secure的直接链接" title="Secure的直接链接">​</a></h3><ul><li>Passwords are not transmitted over the wire</li><li>基于信任证书的 Ticket 验证</li><li>有时间限制的 session key(有效期)</li><li>Separate session key for each user-server pair</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="advanced-features">Advanced Features<a href="#advanced-features" class="hash-link" aria-label="Advanced Features的直接链接" title="Advanced Features的直接链接">​</a></h3><ul><li>单点登录</li><li>Delegation</li><li>跨域身份验证</li><li>互操作性</li><li>相互身份验证</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="kerberos-不足">Kerberos 不足<a href="#kerberos-不足" class="hash-link" aria-label="Kerberos 不足的直接链接" title="Kerberos 不足的直接链接">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="单点故障">单点故障<a href="#单点故障" class="hash-link" aria-label="单点故障的直接链接" title="单点故障的直接链接">​</a></h3><p>需要 central Kerberos server 的高可用，一旦出故障则无法验证使用。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="password-guessing">Password guessing<a href="#password-guessing" class="hash-link" aria-label="Password guessing的直接链接" title="Password guessing的直接链接">​</a></h3><p>请求 ticket 不需要身份验证，攻击者可以通过请求多个 ticket 来收集等效的/etc/passwd</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="其他">其他<a href="#其他" class="hash-link" aria-label="其他的直接链接" title="其他的直接链接">​</a></h3><ul><li>如果本地计算机受到攻击并被恶意软件捕获到密码，则 Kerberos 容易遭受攻击</li><li>票证劫持(Ticket hijacking):恶意用户可能窃取同一工作站上另一用户的服务票证并尝试使用</li><li>server authentication:攻击者可以配置网络从而接收发送给合法服务器的消息</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="参考">参考<a href="#参考" class="hash-link" aria-label="参考的直接链接" title="参考的直接链接">​</a></h2><p><a href="http://omalperera.github.io/security/2018/02/01/kerberos-simplified.html" target="_blank" rel="noopener noreferrer">kerberos Simplified</a></p><p><a href="https://www.roguelynn.com/words/explain-like-im-5-kerberos/" target="_blank" rel="noopener noreferrer">Explain like I’m 5: Kerberos</a></p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/yoloz/yolo-docs/tree/docusaurus/docs/security/kerberos了解.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>编辑此页</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="文件选项卡"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/security/https身份验证"><div class="pagination-nav__sublabel">上一页</div><div class="pagination-nav__label">https身份验证</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/security/kerberos使用"><div class="pagination-nav__sublabel">下一页</div><div class="pagination-nav__label">kerberos使用</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#介绍" class="table-of-contents__link toc-highlight">介绍</a><ul><li><a href="#解决问题" class="table-of-contents__link toc-highlight">解决问题</a></li></ul></li><li><a href="#概念" class="table-of-contents__link toc-highlight">概念</a></li><li><a href="#认证流程" class="table-of-contents__link toc-highlight">认证流程</a><ul><li><a href="#第一步" class="table-of-contents__link toc-highlight">第一步</a></li><li><a href="#第二步" class="table-of-contents__link toc-highlight">第二步</a></li><li><a href="#第三步" class="table-of-contents__link toc-highlight">第三步</a></li><li><a href="#第四步" class="table-of-contents__link toc-highlight">第四步</a></li><li><a href="#第五步" class="table-of-contents__link toc-highlight">第五步</a></li><li><a href="#第六步" class="table-of-contents__link toc-highlight">第六步</a></li></ul></li><li><a href="#kerberos-益处" class="table-of-contents__link toc-highlight">Kerberos 益处</a><ul><li><a href="#scalable" class="table-of-contents__link toc-highlight">Scalable</a></li><li><a href="#secure" class="table-of-contents__link toc-highlight">Secure</a></li><li><a href="#advanced-features" class="table-of-contents__link toc-highlight">Advanced Features</a></li></ul></li><li><a href="#kerberos-不足" class="table-of-contents__link toc-highlight">Kerberos 不足</a><ul><li><a href="#单点故障" class="table-of-contents__link toc-highlight">单点故障</a></li><li><a href="#password-guessing" class="table-of-contents__link toc-highlight">Password guessing</a></li><li><a href="#其他" class="table-of-contents__link toc-highlight">其他</a></li></ul></li><li><a href="#参考" class="table-of-contents__link toc-highlight">参考</a></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 yolo. Built with ❤️ using Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.b20b7b88.js"></script>
<script src="/assets/js/main.346a864d.js"></script>
</body>
</html>